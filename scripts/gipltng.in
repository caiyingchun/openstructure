#!/bin/bash
#------------------------------------------------------------------------------
# This file is part of the OpenStructure project <www.openstructure.org>
#
# Copyright (C) 2008-2010 by the OpenStructure authors
#
# This library is free software; you can redistribute it and/or modify it under
# the terms of the GNU Lesser General Public License as published by the Free
# Software Foundation; either version 3.0 of the License, or (at your option)
# any later version.
# This library is distributed in the hope that it will be useful, but WITHOUT
# ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
# FOR A PARTICULAR PURPOSE.  See the GNU Lesser General Public License for more
# details.
#
# You should have received a copy of the GNU Lesser General Public License
# along with this library; if not, write to the Free Software Foundation, Inc.,
# 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
#------------------------------------------------------------------------------
# Startup script for a protein-centric user interface
# Author: Andreas Schenk, Marco Biasini

# Self detect important directories
SCRIPT_NAME=$0
BIN_DIR=`dirname $SCRIPT_NAME`
export DNG_ROOT=$BIN_DIR/..
export PATH=$BIN_DIR:$PATH

# set ld_library_path and pythonhome for bundle (commented except in linux bundles)

#export LD_LIBRARY_PATH=$DNG_ROOT/@LIBDIR@:$LD_LIBRARY_PATH
#export PYTHONHOME=$DNG_ROOT

# store code in shell variable. Reduces the actuall call to gosty to just one 
# line. If the HERE documnt is fed directly into gosty, the backtrace shows the 
# full command in case of a segfault which is very confusing and not helpful 
# at all
cat $DNG_ROOT/lib/openstructure/init_img.py| gosty img $@
